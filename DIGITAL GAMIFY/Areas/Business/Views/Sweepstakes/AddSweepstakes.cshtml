@using DIGITAL_GAMIFY.Entities;
@using DIGITAL_GAMIFY.Code;
@model DIGITAL_GAMIFY.Entities.SweepstakesEntity
@{
    ViewBag.Title = "AddSweepstakes";
    Layout = "~/Areas/Business/Views/Shared/_LayoutBusiness.cshtml";
}

<div class="vd_content-wrapper">
    <div class="vd_container">
        <div class="vd_content clearfix">
            <div class="vd_head-section clearfix">
                <div class="vd_panel-header mylinks">
                    <ul class="breadcrumb">
                        <li>Sweepstakes </li>
                        <li class="active">Add/Edit</li>
                    </ul>
                    <div class="vd_panel-menu hidden-sm hidden-xs resize-content" data-intro="" data-step="5" data-position="left">
                        <div data-action="remove-navbar" data-original-title="" data-toggle="tooltip" data-placement="bottom" class="remove-navbar-button menu"><i class="fa fa-arrows-h"></i></div>
                        <div data-action="remove-header" data-original-title="" data-toggle="tooltip" data-placement="bottom" class="remove-header-button menu"><i class="fa fa-arrows-v"></i></div>
                        <div data-action="fullscreen" data-original-title="" data-toggle="tooltip" data-placement="bottom" class="fullscreen-button menu"><i class="glyphicon glyphicon-fullscreen"></i></div>
                    </div>
                </div>
            </div>

            <div class="vd_content-section clearfix subdiv">
                <div class="col-lg-12 ">
                    <div class="row" id="advanced-input">
                        <div class="col-md-12">
                        </div>
                    </div>
                    <div class="row" id="auto-complete-input">
                        <div class="col-md-12">
                            <div class="panel widget">
                                <div class="panel-heading vd_bg-grey">
                                    <h3 class="panel-title"><span class="menu-icon"><i class="fa fa-gamepad"></i></span>Add/Edit Sweepstakes </h3>
                                </div>
                                <div class="panel-body form-horizontal">
                                    @using (Html.BeginForm("AddSweepstakes", "Sweepstakes", FormMethod.Post, new { enctype = "multipart/form-data" }))
                                    {
                                        <div class="alert alert-danger vsdiv-full bo-l-0 bo-r-0 bo-rad-0 clearfix @(Html.ViewData.ModelState.IsValid?"hide":"show")" id="error" tabindex='1'>
                                            <span>Errors List</span>
                                            @Html.ValidationSummary()
                                        </div>
                                        @*@Html.AntiForgeryToken();*@
                                        @*@Html.ValidationSummary(false, "", new { @class = "alert alert-danger err" })*@
                                        <input type="hidden" id="TotalPlayed" name="TotalPlayed" value="@Model.TotalPlayed" />
                                        <input type="hidden" id="GameId" name="GameId" value="@Request.QueryString["id"]" />
                                        <div class="my-2">
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Title : <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <input type="text" class="width-70 width-110 myfilds mytxtfilds isvalidate" errormsg="Enter Title" name="GameName" id="GameName" value="" placeholder="Title" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Start Date <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <input type="text" class="width-70 width-110 myfilds mytxtfilds date isvalidate" errormsg="Enter StartDate" name="StartDate" value="" id="StartDate" placeholder="Date" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">End Date <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <input type="text" class="width-70 width-110 myfilds mytxtfilds date isvalidate" errormsg="Enter EndDate" id="EndDate" name="EndDate" value="" placeholder="Date" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Sweepstakes Info : <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <textarea class="width-70 width-110 myfilds mytxtfilds isvalidate" errormsg="Enter Gameinfo" name="ShortDescription" id="ShortDescription" placeholder="Sweepstakes Info"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Sweepstakes Rules : <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <textarea class="width-70 width-110 myfilds mytxtfilds isvalidate" rows="3" errormsg="Enter Conditions" name="Conditions" id="Conditions" placeholder="Sweepstakes Conditions"></textarea>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Age Required?<span class="vd_red"></span></label>
                                                <div class="col-sm-5 controls">
                                                    <input type="checkbox" value="1" name="IsAgeRequire" id="IsAgeRequire" />
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Age Condition <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <select class="width-70 width-110 myfilds mytxtfilds" id="AgeCondition" name="AgeCondition" bindval="">
                                                        <option value="1">You must be 18 years and above to enter into the contest.</option>
                                                        <option value="2">You must be 21 years and above to enter into the contest.</option>
                                                    </select>
                                                </div>
                                            </div>
                                            <div class="form-group">
                                                <label class="col-sm-2 control-label">Sweepstakes Image : <span class="vd_red">*</span></label>
                                                <div class="col-sm-5 controls">
                                                    <img id="imgpreview" src="" class="previewimg" /><br /><br />
                                                    @*@Html.TextBoxFor(m => m.Image, new { @class = "hide" })*@
                                                    <input type="hidden" name="GameImage" id="GameImage" value="" />
                                                    <input type="file" class="width-70 width-110 myfilds mytxtfilds @(Model.GameId==0?"isvalidate":"")" errormsg="Upload Image" placeholder="Upload First Prize Image" name="QuizImagefile" id="QuizImagefile" onchange="readURL(this, 'imgpreview');" />
                                                    @*@Html.TextBox("ImageFile", null, htmlAttributes: new { name = "ImageFile", @class = "width-70 width-110 myfilds mytxtfilds", type = "file", placeholder = "Upload SwipeanWin Image", id = "ImageFile", onchange = "readURL(this,'imgpreview');" })*@
                                                </div>
                                            </div>
                                        </div>
                                        <div class="clearfix"></div>
                                        <div class="form-group">
                                            <label class="col-sm-2 control-label">Status <span class="vd_red">*</span></label>
                                            <div class="col-sm-5 controls">
                                                <select class="width-70 width-110 myfilds mytxtfilds" id="Status" name="Status" bindval="">
                                                    <option value="1">Active</option>
                                                    <option value="0">InActive</option>
                                                </select>

                                            </div>
                                        </div>

                                        <div class="form-group form-actions">
                                            <div class="col-sm-2"></div>
                                            <div class="col-sm-9">
                                                <button class="btn vd_btn vd_bg-green vd_white" onclick="return validate()" type="submit"><i class="icon-ok"></i>Save</button>
                                                @Html.ActionLink("Cancel", "ViewSmartQuiz", new { controller = "SmartQuiz" }, new { @class = "btn btn-danger" })
                                            </div>
                                        </div>
                                    }
                                </div>
                                <div class="col-md-4" id="qrcode">

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>
</div>

@*<link href="@Url.Content(Globalsettings.admincsspath("daterangepicker-bs3.css?v=1.0.0"))" rel="stylesheet" type="text/css">*@
<link href="@Url.Content(Globalsettings.admincsspath("bootstrap-multiselect.css"))" rel="stylesheet" type="text/css">
<link href="@Url.Content(Globalsettings.admincsspath("bs-datetime.css"))" rel="stylesheet" />
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("bootstrap-multiselect.js"))"></script>
@*<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("daterangepicker.js?v=1.0.0"))"></script>*@
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("moment.min.js?v=1.0.0"))"></script>
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("jquery.validate.min.js"))"></script>
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("jquery.validate.unobtrusive.min.js"))"></script>
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("inputmask.js"))"></script>
<script src="@Url.Content(Globalsettings.adminjspath("bootstrap-datepicker.min.js"))"></script>
<script type="text/javascript" src="@Url.Content(Globalsettings.adminjspath("sweepstakes.js"))"></script>
<style>
    .input-group {
        padding-bottom: 10px;
    }
</style>
<script>
    $(document).ready(function () {
        GetquizQandAedit();
        if ($("#TotalPlayed").val() != 0) {
            $('.game').prop('readonly', true);
            $('.gamed').prop('disabled', true);
            alert("Game is in play mode, Please don't make changes.");
        }
    })
</script>
<script>

    //$('.date').datepicker({
    //    format: 'dd-mm-yyyy',
    //    startDate: '-3d'
    //});
    $('.date').datepicker({
        format: 'dd-M-yyyy',
        widgetPositioning: {
            horizontal: 'right',
            vertical: 'bottom'
        },
        // sideBySide: true,
        icons: {
            date: 'fa fa-calendar',
            up: 'fa fa-chevron-up',
            down: 'fa fa-chevron-down',
            previous: 'fa fa-chevron-left',
            next: 'fa fa-chevron-right',
            today: 'fa fa-check',
            clear: 'fa fa-trash',
            close: 'fa fa-times'
        }
    });
    $(function () {
        if (window.jQuery().datetimepicker) {
            $('.datetime').datetimepicker({
                format: 'DD-MMM-YYYY hh:mm a',
                widgetPositioning: {
                    horizontal: 'right',
                    vertical: 'bottom'
                },
                // sideBySide: true,
                icons: {
                    time: 'fa fa-clock',
                    date: 'fa fa-calendar',
                    up: 'fa fa-chevron-up',
                    down: 'fa fa-chevron-down',
                    previous: 'fa fa-chevron-left',
                    next: 'fa fa-chevron-right',
                    today: 'fa fa-check',
                    clear: 'fa fa-trash',
                    close: 'fa fa-times'
                }
            });
        }
    });
</script>




